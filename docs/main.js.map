{"version":3,"sources":["./src/environments/environment.ts","./src/app/timer.pipe.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA,gFAAgF;AAChF,0EAA0E;AAC1E,gEAAgE;AAEzD,MAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;CAClB,CAAC;AAEF;;;;;;GAMG;AACH,mEAAmE;;;;;;;;;;;;;;;;;ACZ5D,MAAM,SAAS;IACpB,SAAS,CAAC,KAAoB;QAC5B,IAAI,KAAK,KAAK,IAAI;YAAE,OAAO,GAAG,CAAC;QAE/B,IAAI,KAAK,GAAG,CAAC,EAAE;YACb,MAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;YAChD,OAAO,GAAG,OAAO,EAAE,CAAC;SACrB;QAED,MAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;QAChD,MAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC;QAE1C,OAAO,GAAG,OAAO,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,IAAI,OAAO,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC;IACzF,CAAC;;kEAbU,SAAS;oGAAT,SAAS;;;;;;;;;;;;;ACFtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqD;AACA;;;AAO9C,MAAM,YAAY;IAkBvB;QAjBA,iBAAY,GAAkB,IAAI,CAAC;QACnC,aAAQ,GAAkB,IAAI,CAAC;QAC/B,aAAQ,GAAkB,IAAI,CAAC;QAC/B,kBAAa,GAAkB,IAAI,CAAC;QAEnB,iBAAY,GAAG,IAAI,CAAC;QACpB,kBAAa,GAAG,KAAK,CAAC;QACtB,eAAU,GAAG,GAAG,CAAC;QACjB,uBAAkB,GAAG,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC;QACnC,mBAAc,GAAG,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC;QAC/B,mBAAc,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;QAEzC,iBAAY,GAAG,IAAI,4CAAO,EAAQ,CAAC;QACnC,aAAQ,GAAG,IAAI,4CAAO,EAAQ,CAAC;QAC/B,aAAQ,GAAG,IAAI,4CAAO,EAAQ,CAAC;QAC/B,kBAAa,GAAG,IAAI,4CAAO,EAAQ,CAAC;QAG1C,IAAI;YACD,SAAiB,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;SAC/C;QAAC,OAAO,KAAK,EAAE;YACd,8BAA8B;SAC/B;IACH,CAAC;IAED,QAAQ,CAAC,IAAmB;QAC1B,OAAO,IAAI,KAAK,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;IAC3D,CAAC;IAED,SAAS,CAAC,IAAmB;QAC3B,OAAO,IAAI,KAAK,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;IAC5D,CAAC;IAED,YAAY;QACV,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;QACzB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,kBAAkB,CAAC;QAE5C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,kBAAkB,EAAE,SAAS,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE;YAC3F,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC;YAE7B,IAAI,QAAQ,IAAI,CAAC,EAAE;gBACjB,IAAI,CAAC,YAAY,EAAE,CAAC;aACrB;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,WAAW;QACT,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;QACzB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;IAC3B,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;QACrB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC;QAEpC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE;YAC/E,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YAEzB,IAAI,QAAQ,IAAI,CAAC,EAAE;gBACjB,IAAI,CAAC,QAAQ,EAAE,CAAC;aACjB;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,OAAO;QACL,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;QACrB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;IACvB,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;QACrB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC;QAEpC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE;YAChF,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YAEzB,IAAI,QAAQ,IAAI,CAAC,EAAE;gBACjB,IAAI,CAAC,QAAQ,EAAE,CAAC;aACjB;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,OAAO;QACL,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;QACrB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;IACvB,CAAC;IAED,aAAa;QACX,IAAI,IAAI,CAAC,aAAa,KAAK,IAAI,EAAE;YAC/B,IAAI,CAAC,aAAa,GAAG,CAAC,IAAI,CAAC;YAC3B,qDAAQ,CAAC,IAAI,CAAC,UAAU,CAAC;iBACtB,IAAI,CACH,0DAAG,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,EACrC,gEAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAC9B,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;gBACjB,IAAI,CAAC,aAAa,GAAG,IAAI,GAAG,IAAI,CAAC;YACnC,CAAC,CAAC,CAAC;SACN;IACH,CAAC;IAED,YAAY;QACV,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;QAC1B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;IAC5B,CAAC;IAEO,WAAW,CAAC,KAAuB,EAAE,WAAmB,EAAE,IAAY;QAC5E,IAAI,KAAK,GAAG,GAAG,CAAC;QAEhB,OAAO,qDAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CACnC,0DAAG,CAAC,KAAK,CAAC,EAAE,CAAC,WAAW,GAAG,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,EACnD,0DAAG,CAAC,QAAQ,CAAC,EAAE;YACb,IAAI,QAAQ,GAAG,IAAI,CAAC,YAAY,GAAG,IAAI,EAAE;gBACvC,MAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC;gBACjD,IAAI,KAAK,GAAG,YAAY,EAAE;oBACxB,MAAM,UAAU,GACd,KAAK,KAAK,GAAG,CAAC,CAAC,CAAC,IAAI;wBACpB,CAAC,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,YAAY,EAAE;4BACtC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;oBAElB,KAAK,GAAG,YAAY,CAAC;oBAErB,MAAM,SAAS,GAAG,IAAI,wBAAwB,CAAC,UAAU,CAAC,CAAC;oBAC3D,SAAS,CAAC,IAAI,GAAG,CAAC,CAAC;oBACnB,MAAM,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;oBAChC,MAAM,CAAC,eAAe,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;iBACzC;aACF;QACH,CAAC,CAAC,EACF,gEAAS,CAAC,KAAK,CAAC,CACjB,CAAC;IACJ,CAAC;;wEAnIU,YAAY;4FAAZ,YAAY;QCTzB,yEAAiB;QACf,yEAA6C;QAA1B,iIAAS,mBAAe,IAAC;QAAC,uDAAyB;;QAAA,4DAAM;QAC5E,yEAA8C;QAAzB,iIAAS,kBAAc,IAAC;QAAC,+DAAI;QAAA,4DAAM;QAC1D,4DAAM;QACN,yEAAiB;QACf,yEAA8H;QAA3G,iIAAS,kBAAc,IAAC;QACzC,oEAAkE;QAClE,uDACF;;QAAA,4DAAM;QACN,0EAA6C;QAAxB,kIAAS,iBAAa,IAAC;QAAC,gEAAI;QAAA,4DAAM;QACzD,4DAAM;QACN,0EAAiB;QACf,0EAAkH;QAA/F,kIAAS,cAAU,IAAC;QACrC,qEAAiE;QACjE,wDACF;;QAAA,4DAAM;QACN,0EAAyC;QAApB,kIAAS,aAAS,IAAC;QAAC,gEAAI;QAAA,4DAAM;QACrD,4DAAM;QACN,0EAAiB;QACf,0EAAkH;QAA/F,kIAAS,cAAU,IAAC;QACrC,qEAAiE;QACjE,wDACF;;QAAA,4DAAM;QACN,0EAAyC;QAApB,kIAAS,aAAS,IAAC;QAAC,gEAAI;QAAA,4DAAM;QACrD,4DAAM;;QAvByC,0DAAyB;QAAzB,oJAAyB;QAI1B,0DAAyC;QAAzC,qGAAyC;QAEnF,0DACF;QADE,+JACF;QAIwC,0DAAqC;QAArC,iGAAqC;QAE3E,0DACF;QADE,2JACF;QAIwC,0DAAqC;QAArC,iGAAqC;QAE3E,0DACF;QADE,2JACF;;;;;;;;;;;;;;ACrBF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0D;AAEX;AACgC;AACtC;;AAclC,MAAM,SAAS;;wFAAT,SAAS,cAFR,2DAAY;4IAEb,SAAS,mBAHT,EAAE,YAJJ;YACP,uEAAa;YACb,4FAAuB;SACxB;mIAIU,SAAS,mBAVlB,2DAAY;QACZ,qDAAS,aAGT,uEAAa;QACb,4FAAuB;;;;;;;;;;;;;;;;;;;ACdoB;AAGF;AACY;AAEzD,IAAI,qEAAW,CAAC,UAAU,EAAE;IAC1B,oEAAc,EAAE,CAAC;CAClB;AAED,2EAAwB,CAAC,eAAe,CAAC,yDAAS,CAAC;KAChD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;;;;;;;;;;;;ACXpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,qC","file":"main.js","sourcesContent":["// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'timer' })\r\nexport class TimerPipe implements PipeTransform {\r\n  transform(value: number | null): string {\r\n    if (value === null) return '-';\r\n\r\n    if (value < 0) {\r\n      const seconds = Math.floor((value / 1000) % 60);\r\n      return `${seconds}`;\r\n    }\r\n\r\n    const seconds = Math.floor((value / 1000) % 60);\r\n    const minutes = Math.floor(value / 60000);\r\n\r\n    return `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\nimport { interval, Observable, Subject } from 'rxjs';\nimport { map, takeUntil, tap } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  alcoholTimer: number | null = null;\n  eggTimer: number | null = null;\n  allTimer: number | null = null;\n  instanceTimer: number | null = null;\n\n  private readonly dangerBuffer = 5000;\n  private readonly warningBuffer = 30000;\n  private readonly tickLength = 100;\n  private readonly alcoholRefreshTime = 2 * 60 * 1000;\n  private readonly eggRefreshTime = 5 * 60 * 1000;\n  private readonly allRefreshTime = 10 * 60 * 1000;\n\n  private stopAlcohol$ = new Subject<void>();\n  private stopEgg$ = new Subject<void>();\n  private stopAll$ = new Subject<void>();\n  private stopInstance$ = new Subject<void>();\n\n  constructor() {\n    try {\n      (navigator as any).wakeLock.request('screen');\n    } catch (error) {\n      // could not request wake lock\n    }\n  }\n\n  isDanger(time: number | null) {\n    return time !== null && time <= this.dangerBuffer + 1000;\n  }\n\n  isWarning(time: number | null) {\n    return time !== null && time <= this.warningBuffer + 1000;\n  }\n\n  startAlcohol() {\n    this.stopAlcohol$.next();\n    this.alcoholTimer = this.alcoholRefreshTime;\n\n    this.createTimer(this.stopAlcohol$, this.alcoholRefreshTime, 'alkahol').subscribe(timeLeft => {\n      this.alcoholTimer = timeLeft;\n\n      if (timeLeft <= 0) {\n        this.startAlcohol();\n      }\n    });\n  }\n\n  stopAlcohol() {\n    this.stopAlcohol$.next();\n    this.alcoholTimer = null;\n  }\n\n  startEgg() {\n    this.stopEgg$.next();\n    this.eggTimer = this.eggRefreshTime;\n\n    this.createTimer(this.stopEgg$, this.eggRefreshTime, 'Egg').subscribe(timeLeft => {\n      this.eggTimer = timeLeft;\n\n      if (timeLeft <= 0) {\n        this.startEgg();\n      }\n    });\n  }\n\n  stopEgg() {\n    this.stopEgg$.next();\n    this.eggTimer = null;\n  }\n\n  startAll() {\n    this.stopAll$.next();\n    this.allTimer = this.allRefreshTime;\n\n    this.createTimer(this.stopAll$, this.allRefreshTime, 'Corn').subscribe(timeLeft => {\n      this.allTimer = timeLeft;\n\n      if (timeLeft <= 0) {\n        this.startAll();\n      }\n    });\n  }\n\n  stopAll() {\n    this.stopAll$.next();\n    this.allTimer = null;\n  }\n\n  startInstance() {\n    if (this.instanceTimer === null) {\n      this.instanceTimer = -3000;\n      interval(this.tickLength)\n        .pipe(\n          map(ticks => ticks * this.tickLength),\n          takeUntil(this.stopInstance$)\n        ).subscribe(time => {\n          this.instanceTimer = time - 3000;\n        });\n    }\n  }\n\n  stopInstance() {\n    this.stopInstance$.next();\n    this.instanceTimer = null;\n  }\n\n  private createTimer(stop$: Observable<void>, refreshTime: number, text: string) {\n    let state = 100;\n\n    return interval(this.tickLength).pipe(\n      map(ticks => refreshTime - ticks * this.tickLength),\n      tap(timeLeft => {\n        if (timeLeft < this.dangerBuffer + 1000) {\n          const currentState = Math.floor(timeLeft / 1000);\n          if (state > currentState) {\n            const speechText =\n              state === 100 ? text\n              : currentState > 0 ? `${currentState}`\n              : 'pop ' + text;\n\n            state = currentState;\n\n            const utterance = new SpeechSynthesisUtterance(speechText);\n            utterance.rate = 2;\n            window.speechSynthesis.cancel();\n            window.speechSynthesis.speak(utterance);\n          }\n        }\n      }),\n      takeUntil(stop$)\n    );\n  }\n}\n","<div class=\"box\">\n  <div class=\"timer\" (click)=\"startInstance()\">{{instanceTimer | timer}}</div>\n  <div class=\"buttons\" (click)=\"stopInstance()\">Stop</div>\n</div>\n<div class=\"box\">\n  <div class=\"timer\" (click)=\"startAlcohol()\" [class.warning]=\"isWarning(alcoholTimer)\" [class.danger]=\"isDanger(alcoholTimer)\">\n    <img src=\"https://wiki.guildwars.com/images/4/47/Dwarven_Ale.png\">\n    {{alcoholTimer | timer}}\n  </div>\n  <div class=\"buttons\" (click)=\"stopAlcohol()\">Stop</div>\n</div>\n<div class=\"box\">\n  <div class=\"timer\" (click)=\"startEgg()\" [class.warning]=\"isWarning(eggTimer)\" [class.danger]=\"isDanger(eggTimer)\">\n    <img src=\"https://wiki.guildwars.com/images/9/97/Golden_Egg.png\">\n    {{eggTimer | timer}}\n  </div>\n  <div class=\"buttons\" (click)=\"stopEgg()\">Stop</div>\n</div>\n<div class=\"box\">\n  <div class=\"timer\" (click)=\"startAll()\" [class.warning]=\"isWarning(allTimer)\" [class.danger]=\"isDanger(allTimer)\">\n    <img src=\"https://wiki.guildwars.com/images/e/ee/Candy_Corn.png\">\n    {{allTimer | timer}}\n  </div>\n  <div class=\"buttons\" (click)=\"stopAll()\">Stop</div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\n\nimport { AppComponent } from './app.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { TimerPipe } from './timer.pipe';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    TimerPipe\n  ],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}